<!DOCTYPE html >
	<html >
		<head >
			<title >Level Select</title >
			<link id="modeSheet" rel="stylesheet" href="Theme/light_mode.css">
			<link id="fontStyle" rel="stylesheet" href="Fonts/Arial.css">
			<script src="Settings.js"></script>
			<style>
				body {
					display: flex;
					flex-direction: column;
					gap: 10px;
				}
				.settings_bar {
				        display: flex;
				        justify-content: left;
				        padding: 10px;
				        gap: 10px;
				        height: auto;
				        flex-wrap: nowrap;
				}
				.container {
					display: flex;
					flex-wrap: wrap;
					gap: 20px;
					justify-content: left;
					padding: 20px;
				}

				.level_button {
					width: 200px;
					height: 200px;
					background: none;
					border: none;
					padding: 0;
					cursor: pointer;
					text-align: centre;
					pointer-events: none;
				}

				.level_button.unlocked {
					pointer-events: auto;
				}

				.level_button img {
					width: 100%;
					height: 100%;
					object-fit: cover;
					border-radius: 10px;
				}
				
				.disabled {
					cursor: not-allowed;
					background-colour: #e7e7e7;
				}
				.navigation {
				        display: flex;
				        justify-content: flex-start;
				        width: auto;
				}

				/* hide level name*/
				.level_button p {
					display: none;
				}

				/* show level name*/
				.level_button.unlocked p {
					display: block;
				}
				
			</style>
		</head >
	<body onpageshow="settings()">

		<div class="settings_bar">
			<!-- mode toggle button -->
			<button onclick="darkMode()" class="button">Dark Mode Toggle</button>
		
			<!--dropdown for font -->
			<div class="fontdrop">
		        	<button class="dropbtn" onclick="fontdrop()">Font</button>
		            	<div id="fontDropdown" class="dropdown-content">
		                	<!--javascript:void(0); makes the webpage not change -->
				        <a href="javascript:void(0);" onclick="changeFont('arial')">Arial</a>
				        <a href="javascript:void(0);" onclick="changeFont('comicSans')">Comic Sans</a>
					<a href="javascript:void(0);" onclick="changeFont('openSans')">Open Sans</a>
				        <a href="javascript:void(0);" onclick="changeFont('verdana')">Verdana</a>
		            	</div>
		        </div>
		</div>

		<div class="navigation">
			<button onclick="home()" class="button">Home</button>
		</div>
		
		<h1><u>Level Select</u></h1>

		<div class="container">
	    		<a href="page1.html" id="btnPage1" class="level_button">
				<img src="questionMark.png" alt="Locked">
				<p>Dark Forest</p>
			</a>
			<a href="page2.html" id="btnPage2" class="level_button">
				<img src="questionMark.png" alt="Locked">
				<p>All the better to eat you with</p>
			</a>
			<a href="page3.html" id="btnPage3" class="level_button">
				<img src="questionMark.png" alt="Locked">
				<p>River</p>
			</a>
			<a href="choice1.html" id="btnChoice" class="level_button">
				<img src="questionMark.png" alt="Locked">
				<p>A Choice</p>
			</a>
			<a href="trapped.html" id="btnTrapped" class="level_button">
				<img src="questionMark.png" alt="Locked">
				<p>Trapped</p>
			</a>
			<a href="escape.html" id="btnEscape" class="level_button">
				<img src="questionMark.png" alt="Locked">
				<p>Escape</p>
			</a>
  		</div>
		
		<script>
			//enables button if page has been visited
    			const levels = [
      				{id: "btnPage1", key: "visitedPage1", image: "Dark forest.jpg", link: "page1.html"},
				{id: "btnPage2", key: "visitedPage2", image: "Wolf.jpeg", link: "page2.html"},
				{id: "btnPage3", key: "visitedPage3", image: "river.png", link: "page3.html"},
				{id: "btnChoice", key: "visitedChoice", image: "CoverImage.jpg", link: "choice1.html"},
				{id: "btnTrapped", key: "visitedTrapped", image: "CoverImage.jpg", link: "trapped.html"},
				{id: "btnEscape", key: "visitedEscape", image: "CoverImage.jpg", link: "escape.html"}
				];

   			window.onload = function () {
				for (let i = 0; i < levels.length; i++) {
	      				const level = levels[i];
	      				const id = document.getElementById(level.id);
	      				const img = btn.querySelector("img");

					if (!localStorage.getitem(level.key)){
						id.classList.add("unlocked");
						img.src = "questionMark.png";
						id.removeAttribute("href");
					}
				}
			}

			function home() {
				document.location="index.html"
			}
  		</script>
	</body >
</html >
